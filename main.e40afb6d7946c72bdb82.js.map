{"version":3,"sources":["webpack:///./js/pNotify.js","webpack:///./index.js","webpack:///./js/CountriesDetails.js","webpack:///./js/fetchCountries.js","webpack:///./templates/countryQuery.hbs","webpack:///./templates/countriesQueryList.hbs"],"names":["onNotify","text","type","title","delay","options","alert","input","section","this","_refs","document","querySelector","_delay","init","focus","addEventListener","debounce","onInput","bind","render","htmlString","setTimeout","innerHTML","createCountriesListMarkup","country","countryQueryList","createOneCountryMarkup","countryQuery","onDataReceived","data","status","hasOwnProperty","length","message","event","searchQuery","countryName","target","value","trim","fetch","then","response","json","catch","console","log","Handlebars","module","exports","template","container","depth0","helpers","partials","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","call","stack1","helper","nullContext","hooks","helperMissing","alias3","alias4","program","noop"],"mappings":"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","file":"main.e40afb6d7946c72bdb82.js","sourcesContent":["import { alert } from '@pnotify/core';\r\n\r\nexport function onNotify(\r\n  text = 'Something went wrong',\r\n  type = 'error',\r\n  title = '',\r\n  delay = 2000,\r\n) {\r\n  const options = {\r\n    title,\r\n    text,\r\n    type,\r\n    delay,\r\n  };\r\n  alert(options);\r\n}","import './styles.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\n\r\nimport { CountriesQuery } from './js/CountriesDetails';\r\n\r\nconst queryCountry = new CountriesQuery({\r\n  input: '.main__input',\r\n  section: '.template__container',\r\n});\r\n\r\nqueryCountry.init();","import { fetchCountries } from './fetchCountries';\r\nimport { debounce } from 'lodash';\r\nimport { onNotify } from './pNotify';\r\nimport countryQuery from '../templates/countryQuery.hbs';\r\nimport countryQueryList from '../templates/countriesQueryList.hbs';\r\n\r\nexport class CountriesQuery {\r\n  constructor({ input, section, delay = 500 }) {\r\n    this._refs = {\r\n      input: document.querySelector(input),\r\n      section: document.querySelector(section),\r\n    };\r\n    this._delay = delay;\r\n  }\r\n  init() {\r\n    this._refs.input.focus();\r\n    this._refs.input.addEventListener(\r\n      'input',\r\n      debounce(this.onInput.bind(this), this._delay),\r\n    );\r\n  }\r\n\r\n  render(htmlString, delay = 250) {\r\n    setTimeout(() => {\r\n      this._refs.section.innerHTML = htmlString;\r\n    }, delay);\r\n  }\r\n\r\n  createCountriesListMarkup(country) {\r\n    this.render(countryQueryList(country));\r\n    onNotify(\r\n      'This is a list of countries you could be looking for.',\r\n      'info',\r\n      'Choose one!',\r\n    );\r\n  }\r\n\r\n  createOneCountryMarkup(country) {\r\n    this.render(countryQuery(country));\r\n    onNotify(\r\n      'Your request have been succesfully done! This is country you have searched.',\r\n      'info',\r\n      'Congratulations!',\r\n    );\r\n  }\r\n  onDataReceived(data) {\r\n    if (data.status === 404) {\r\n      onNotify(`${data.message}`, 'error', data.status);\r\n      return;\r\n    }\r\n    if (data.hasOwnProperty('name')) {\r\n      this.createOneCountryMarkup(data);\r\n      return;\r\n    }\r\n    if (data.length > 10) {\r\n      onNotify(\r\n        `Too many countries found: ${data.length}. Please enter a more specific query!`,\r\n        'error',\r\n        'ERROR',\r\n      );\r\n      return;\r\n    }\r\n    if (data.length === 1) {\r\n      this.createOneCountryMarkup(data[0]);\r\n      return;\r\n    }\r\n    this.createCountriesListMarkup(data);\r\n  }\r\n  onInput(event) {\r\n    const countryName = event.target.value.trim();\r\n    if (countryName === '') {\r\n      this._refs.section.innerHTML = '';\r\n      return;\r\n    }\r\n    debugger;\r\n    fetchCountries(countryName)\r\n      .then(this.onDataReceived.bind(this))\r\n      .catch(console.log);\r\n  }\r\n}","export function fetchCountries(searchQuery) {\r\n  return fetch(\r\n    `https://restcountries.eu/rest/v2/name/${searchQuery}`,\r\n  ).then(response => response.json());\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n            <li>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" - <span class=\\\"country__native-name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0), depth0))\n    + \"</span> </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country\\\">\\r\\n    <div class=\\\"country__description\\\">\\r\\n        <h2 class=\\\"country__name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":34},\"end\":{\"line\":3,\"column\":42}}}) : helper)))\n    + \"</h2>\\r\\n        <h3 class=\\\"country__native-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"nativeName\") || (depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"nativeName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":41},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \"</h3>\\r\\n        <h4 class=\\\"country__capital\\\">Capital: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":46},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"</h4>\\r\\n        <p class=\\\"country__population\\\">Population: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":51},\"end\":{\"line\":6,\"column\":65}}}) : helper)))\n    + \"</p>\\r\\n        <p class=\\\"country__languages\\\">Languages:</p>\\r\\n        <ul class=\\\"country__languages-list\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":10,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n    </div>\\r\\n    <div class=\\\"country__flag\\\">\\r\\n        <img class=\\\"country__flag-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":46},\"end\":{\"line\":14,\"column\":54}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":61},\"end\":{\"line\":14,\"column\":69}}}) : helper)))\n    + \" flag\\\">\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"countries__item\\\">\\r\\n        <p class=\\\"countries__item-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" - \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"nativeName\") : depth0), depth0))\n    + \"</p>\\r\\n        <img class=\\\"countries__flag\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries__list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":7,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});"],"sourceRoot":""}